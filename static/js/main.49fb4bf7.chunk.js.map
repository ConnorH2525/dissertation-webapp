{"version":3,"sources":["firebase.js","contexts/AuthContext.js","components/authentication/CenteredContainer.js","components/layout/SignedInLinks.js","components/layout/SignedOutLinks.js","components/layout/Navbar.js","components/authentication/Signup.js","components/authentication/Profile.js","components/authentication/Login.js","components/authentication/PrivateRoute.js","components/authentication/ForgotPassword.js","components/authentication/UpdateProfile.js","hooks/useGroup.js","components/groups/AddGroupButton.js","components/groups/AddMediaButton.js","components/groups/AddTextButton.js","components/groups/JoinGroupButton.js","components/groups/Group.js","components/groups/File.js","components/groups/Text.js","components/groups/GroupBreadCrumbs.js","components/groups/Dashboard.js","components/viewer/Viewer.js","components/App.js","index.js"],"names":["app","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","database","groups","collection","files","formatDoc","doc","id","data","getCurrentTimestamp","FieldValue","serverTimestamp","storage","auth","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","useState","currentUser","setCurrentUser","loading","setLoading","email","password","username","a","createUserWithEmailAndPassword","uid","set","userId","console","log","message","useEffect","onAuthStateChanged","user","value","login","signInWithEmailAndPassword","signup","logout","signOut","resetPassword","sendPasswordResetEmail","updateEmail","updatePassword","Provider","CenteredContainer","Container","className","style","minHeight","maxWidth","SignedInLinks","setName","get","then","Nav","Link","color","as","to","SignedOutLinks","TopNavbar","links","Navbar","backgroundColor","justifyContent","Brand","fontWeight","Signup","emailRef","useRef","passwordRef","passwordConfirmRef","error","setError","history","useHistory","e","preventDefault","current","push","Card","Body","Alert","variant","Form","onSubmit","Group","Label","Control","type","name","required","onChange","target","ref","Button","disabled","borderColor","Profile","pushState","padding","onClick","Login","PrivateRoute","Component","component","rest","render","props","ForgotPassword","setMessage","UpdateProfile","promises","updateUsername","Promise","all","catch","finally","placeholder","defaultValue","ACTIONS","ROOT_GROUP","path","reducer","state","payload","groupId","group","childFiles","useGroup","useReducer","dispatch","where","orderBy","onSnapshot","snapshot","docs","map","AddGroupButton","currentGroup","open","setOpen","closeModal","minWidth","marginTop","icon","faPlus","size","Modal","show","onHide","add","creatorId","parentId","createdAt","members","Footer","AddMediaButton","uploadingFiles","setUploadingFiles","faFileUpload","file","uuid4","prevUploadingFiles","progress","filePath","join","uploadTask","put","on","bytesTransferred","totalBytes","uploadFile","filter","getDownloadURL","url","existingFiles","existingFile","update","isText","opacity","position","left","length","ReactDOM","createPortal","bottom","right","Toast","onClose","Header","closeButton","ProgressBar","animated","now","label","Math","round","document","body","AddTextButton","text","setText","paddingTop","faCommentAlt","JoinGroupButton","code","setCode","db","some","marginLeft","addMembersToGroup","pathname","faUsers","File","href","rel","faFile","Text","GroupBreadCrumbs","Breadcrumb","listProps","index","Item","linkAs","linkProps","slice","active","Dashboard","useParams","useLocation","height","fluid","childGroup","childFile","Viewer","i","setI","transform","src","alt","width","fontSize","margin","App","basename","exact","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.49fb4bf7.chunk.js","sourcesContent":["import firebase from \"firebase/app\"\r\nimport \"firebase/auth\"\r\nimport \"firebase/firestore\"\r\nimport \"firebase/storage\"\r\n\r\nconst app = firebase.initializeApp({\r\n    apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n    authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n    projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n    storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n    appId: process.env.REACT_APP_FIREBASE_APP_ID\r\n})\r\n\r\nconst firestore = app.firestore()\r\nexport const database = {\r\n    //profilePic: firestore.collection(\"profilePics\"),\r\n    groups: firestore.collection(\"groups\"),\r\n    files: firestore.collection(\"files\"),\r\n    formatDoc: doc => {\r\n        return { id: doc.id, ...doc.data()}\r\n    },\r\n    getCurrentTimestamp: firebase.firestore.FieldValue.serverTimestamp,\r\n}\r\n\r\n/*export const generateUserDocument = async (user) => {\r\n    if (!user) return;\r\n    const userRef = firestore.doc(`users/${user.uid}`)\r\n    const snapshot = await userRef.get()\r\n    if (!snapshot.exists) {\r\n        const { username, photoURL } = user\r\n        try {\r\n            await userRef.set({\r\n                username,\r\n                photoURL\r\n            })\r\n        } catch (error) {\r\n            console.error(\"Error creating user document\", error)\r\n        }\r\n    }\r\n}*/\r\nexport const storage = app.storage()\r\nexport const auth = app.auth()\r\nexport default app","import React, { useContext, useState, useEffect } from \"react\"\r\nimport { auth } from \"../firebase\"\r\nimport firebase from \"../firebase\"\r\nimport \"firebase/firestore\"\r\n\r\nconst AuthContext = React.createContext()\r\n\r\nexport function useAuth() {\r\n    return useContext(AuthContext)\r\n}\r\n\r\nexport function AuthProvider({ children }) {\r\n    const [currentUser, setCurrentUser] = useState()\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    async function signup(email, password, username) {\r\n        try {\r\n            await auth.createUserWithEmailAndPassword(email, password)\r\n            \r\n            const currentUser = firebase.auth().currentUser\r\n            const db = firebase.firestore()\r\n\r\n            db.collection(\"users\")\r\n            .doc(currentUser.uid)\r\n            .set({\r\n                userId: currentUser.uid,\r\n                username: username\r\n            })\r\n        } catch (err) {\r\n            console.log(err.message)\r\n        }\r\n    }\r\n\r\n    function login(email, password) {\r\n        return auth.signInWithEmailAndPassword(email, password)\r\n    }\r\n\r\n    function logout() {\r\n        return auth.signOut()\r\n    }\r\n\r\n    function resetPassword(email) {\r\n        return auth.sendPasswordResetEmail(email)\r\n    }\r\n\r\n    function updateEmail(email) {\r\n        return currentUser.updateEmail(email)\r\n    }\r\n\r\n    function updatePassword(password) {\r\n        return currentUser.updatePassword(password)\r\n    }\r\n\r\n    //function deleteAccount() {\r\n        //return currentUser.delete()\r\n    //}\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = auth.onAuthStateChanged(user => {\r\n            setCurrentUser(user)\r\n            setLoading(false)\r\n        })\r\n\r\n        return unsubscribe\r\n    }, [])\r\n\r\n    const value = {\r\n        currentUser,\r\n        login,\r\n        signup,\r\n        logout,\r\n        resetPassword,\r\n        updateEmail,\r\n        updatePassword,\r\n        //deleteAccount\r\n    }\r\n\r\n    return (\r\n        <AuthContext.Provider value={value}>\r\n            {!loading && children}\r\n        </AuthContext.Provider>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Container } from \"react-bootstrap\"\r\n\r\nconst CenteredContainer = ({ children }) => {\r\n    return (\r\n        <Container\r\n            className=\"d-flex align-items-center justify-content-center\"\r\n            style={{ minHeight: \"100vh\" }}\r\n            >\r\n            <div className=\"w-100\" style={{ maxWidth: \"400px\" }}>\r\n                {children}\r\n            </div>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default CenteredContainer\r\n","import React, { useState, useEffect }from 'react'\r\nimport { Nav } from \"react-bootstrap\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { useAuth } from \"../../contexts/AuthContext\"\r\nimport firebase, { database } from \"../../firebase\"\r\nimport \"firebase/firestore\"\r\n\r\nconst SignedInLinks = () => {\r\n\r\n    const { currentUser } = useAuth()\r\n    const [username,setName] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        firebase.firestore().collection(\"users\")\r\n        .doc(currentUser.uid)\r\n        .get()\r\n        .then(doc => {\r\n            setName(database.formatDoc(doc))\r\n        })\r\n    }, [])\r\n\r\n    return (\r\n        <Nav className=\"ml-auto\">\r\n            <Nav.Link style={{color:\"lightgrey\"}} as={Link} to =\"/user\">\r\n                Hi {username.username}\r\n            </Nav.Link>\r\n        </Nav>\r\n    )\r\n}\r\n\r\nexport default SignedInLinks","import React from 'react'\r\nimport { Nav } from \"react-bootstrap\"\r\nimport { Link } from \"react-router-dom\"\r\n\r\nconst SignedOutLinks = () => {\r\n    return (\r\n        <>\r\n        <Nav className=\"ml-auto\">\r\n            <Nav>\r\n                <Nav.Link as={Link} style={{color:\"lightgrey\"}} to =\"/signup\">\r\n                    Create Account\r\n                </Nav.Link>\r\n            </Nav>\r\n            <Nav>\r\n                <Nav.Link as={Link} style={{color:\"lightgrey\"}} to =\"/login\">\r\n                    Login\r\n                </Nav.Link>\r\n            </Nav>\r\n        </Nav>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SignedOutLinks","import React from 'react'\r\nimport { Navbar } from \"react-bootstrap\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { useAuth } from \"../../contexts/AuthContext\"\r\nimport SignedInLinks from \"./SignedInLinks\"\r\nimport SignedOutLinks from \"./SignedOutLinks\"\r\n\r\nconst TopNavbar = () => {\r\n    const { currentUser } = useAuth()\r\n    const links = currentUser ? <SignedInLinks /> : <SignedOutLinks />\r\n\r\n    return (\r\n        <Navbar style={{backgroundColor:\"#212121\", justifyContent: \"center\"}}>\r\n            <Navbar.Brand id=\"title\" as={Link} style={{fontWeight:\"bold\", color:\"white\"}} to =\"/\">\r\n                FellowFrame\r\n            </Navbar.Brand>\r\n            {links}\r\n        </Navbar>\r\n    )\r\n}\r\n\r\nexport default TopNavbar\r\n","import React, { useRef, useState } from \"react\"\r\nimport { Form, Button, Card, Alert } from \"react-bootstrap\"\r\nimport { useAuth } from \"../../contexts/AuthContext\"\r\nimport { Link, useHistory } from \"react-router-dom\"\r\nimport CenteredContainer from \"./CenteredContainer\"\r\nimport \"firebase/firestore\"\r\nimport Navbar from \"../layout/Navbar\"\r\n\r\nconst Signup = () => {\r\n    const emailRef = useRef()\r\n    const passwordRef = useRef()\r\n    const passwordConfirmRef = useRef()\r\n    const { signup } = useAuth()\r\n    const [username, setName] = useState(\"\")\r\n    const [error, setError] = useState(\"\")\r\n    const [loading, setLoading] = useState(false)\r\n    const history = useHistory()\r\n\r\n    function handleChange(e) {\r\n        setName(e.target.value)\r\n    }\r\n\r\n    async function handleSubmit(e) {\r\n        e.preventDefault()\r\n\r\n        if (passwordRef.current.value !==\r\n            passwordConfirmRef.current.value) {\r\n                return setError(\"Passwords do not match\")\r\n            }\r\n\r\n        try {\r\n            setError(\"\")\r\n            setLoading(true)\r\n            await signup(emailRef.current.value, passwordRef.current.value, username)\r\n            history.push(\"/\")\r\n        } catch {\r\n            setError(\"Failed to create an account\")\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <Navbar />\r\n        <div style={{backgroundColor:\"#F6D7AF\"}}>\r\n        <CenteredContainer>\r\n            <Card style={{backgroundColor:\"#F6D7AF\"}}>\r\n                <Card.Body>\r\n                    <h2 className=\"text-center mb-4\">Create Account</h2>\r\n                    {error && <Alert variant=\"danger\">{error}</Alert>}\r\n                    <Form onSubmit={handleSubmit}>\r\n                        <Form.Group>\r\n                            <Form.Label>First Name</Form.Label>\r\n                            <Form.Control \r\n                                type=\"text\"\r\n                                name=\"username\"\r\n                                id=\"username\"\r\n                                required\r\n                                value={username}\r\n                                onChange={handleChange}\r\n                        />\r\n                        </Form.Group>\r\n                        <Form.Group id=\"email\">\r\n                            <Form.Label>Email</Form.Label>\r\n                            <Form.Control type=\"email\" ref={emailRef} required/>\r\n                        </Form.Group>\r\n                        <Form.Group id=\"password\">\r\n                            <Form.Label>Password</Form.Label>\r\n                            <Form.Control type=\"password\" ref={passwordRef} required/>\r\n                        </Form.Group>\r\n                        <Form.Group id=\"password-confirm\">\r\n                            <Form.Label>Password Confirmation</Form.Label>\r\n                            <Form.Control type=\"password\" ref={passwordConfirmRef} required/>\r\n                        </Form.Group>\r\n                        <Button disabled={loading} className=\"w-100\" type=\"submit\" style={{backgroundColor:\"#FF6B09\", borderColor:\"#FF6B09\"}}>\r\n                            Create Account\r\n                        </Button>\r\n                    </Form>\r\n                </Card.Body>\r\n            </Card>\r\n            <div className=\"w-100 text-center mt-2\">\r\n                Already have an account? <Link style={{color: \"#FF6B09\"}} to=\"/login\">Log In</Link>\r\n            </div>\r\n        </CenteredContainer>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Signup\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Card, Button, Alert } from \"react-bootstrap\"\r\nimport { useAuth } from \"../../contexts/AuthContext\"\r\nimport { Link, useHistory } from \"react-router-dom\"\r\nimport CenteredContainer from './CenteredContainer'\r\nimport firebase, { database } from \"../../firebase\"\r\nimport \"firebase/firestore\"\r\nimport Navbar from \"../layout/Navbar\"\r\n\r\nconst Profile = () => {\r\nconst [error, setError] = useState(\"\")\r\nconst { currentUser, logout } = useAuth()\r\nconst history = useHistory()\r\nconst [username,setName] = useState(\"\")\r\n//const allImages = {imgUrl: ''}\r\n    //const [imageAsFile, setImageAsFile] = useState('')\r\n    //const [imageAsUrl, setImageAsUrl] = useState(allImages)\r\n\r\n    //const handleImageAsFile = (e) => {\r\n        //const image = e.target.files[0]\r\n        //setImageAsFile(imageAsFile => (image))\r\n    //}\r\n\r\n    /*const handlePicUpload = (e) => {\r\n        e.preventDefault()\r\n\r\n        if(imageAsFile === '') {\r\n            setError(\"Not a valid image\")\r\n        }\r\n        \r\n        const uploadTask = database.profilePic.put(imageAsFile)\r\n\r\n        uploadTask.on('state_changed', \r\n            (snapShot) => {\r\n            //takes a snap shot of the process as it is happening\r\n                console.log(snapShot)\r\n            }, (err) => {\r\n            //catches the errors\r\n                setError(err)\r\n            }, () => {\r\n            // gets the functions from storage refences the image storage in firebase by the children\r\n            // gets the download url then sets the image from firebase as the value for the imgUrl key:\r\n            database.profilePic.child(imageAsFile.name).getDownloadURL()\r\n            .then(fireBaseUrl => {\r\n                setImageAsUrl(prevObject => ({...prevObject, imgUrl: fireBaseUrl}))\r\n            })\r\n        })\r\n\r\n    }*/\r\n\r\n    useEffect(() => {\r\n        firebase.firestore().collection(\"users\")\r\n        .doc(currentUser.uid)\r\n        .get()\r\n        .then(doc => {\r\n            setName(database.formatDoc(doc))\r\n        })\r\n    }, [])\r\n    \r\n    async function handleLogout() {\r\n        setError(\"\")\r\n\r\n        try {\r\n            await logout()\r\n            history.pushState(\"/login\")\r\n        } catch {\r\n            setError(\"Failed to log out\")\r\n        }\r\n    }\r\n\r\n    // <div>\r\n    //                     <strong>Profile Picture: </strong>\r\n    //                     <img src={imageAsUrl.imgUrl} alt=\"\" />\r\n    //                     <form>\r\n    //                         <input type=\"file\" onChange={handleImageAsFile}/>\r\n    //                         <Button style={{padding:\"0 6px 0 6px\", borderColor:\"#FF6B09\", backgroundColor:\"#FF6B09\"}}>Update Profile Picture</Button>\r\n    //                     </form>\r\n    //                 </div>\r\n    \r\n    return (\r\n        <>\r\n        <Navbar />\r\n        <div style={{backgroundColor:\"#F6D7AF\"}}>\r\n        <CenteredContainer>\r\n            <div className=\"w-100 text-left mt-2\">\r\n                <Link style={{fontWeight:\"bold\", color:\"#FF6B09\"}} to=\"/\">&lt; Groups</Link>\r\n            </div>\r\n            <div style={{padding:\"5px\"}}></div>\r\n            <Card style={{backgroundColor:\"#F6D7AF\"}}>\r\n                <Card.Body>\r\n                    <h2 className=\"text-center mb-4\">Hi {username.username}!</h2>\r\n                    <hr></hr>\r\n                    <h5 className=\"text-center mb-4\">Profile</h5>\r\n                    {error && <Alert variant=\"danger\">{error}</Alert>}\r\n                    \r\n                    <strong>Email: </strong>{currentUser.email}\r\n                    <Link to=\"/update-profile\" className=\"btn btn-primary w-100 mt-3\" style={{backgroundColor: \"#FF6B09\", borderColor: \"#FF6B09\"}}>\r\n                        Update Profile\r\n                    </Link>\r\n                </Card.Body>\r\n            </Card>\r\n            <div className=\"w-100 text-center mt-2\">\r\n                Not you?<Button variant=\"link\" onClick={handleLogout} style={{color: \"#FF6B09\"}}>Log Out</Button>\r\n            </div>\r\n        </CenteredContainer>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Profile\r\n","import React, { useRef, useState } from \"react\"\r\nimport { Form, Button, Card, Alert } from \"react-bootstrap\"\r\nimport { useAuth } from \"../../contexts/AuthContext\"\r\nimport { Link, useHistory } from \"react-router-dom\"\r\nimport CenteredContainer from \"./CenteredContainer\"\r\nimport Navbar from \"../layout/Navbar\"\r\n\r\nconst Login = () => {\r\n    const emailRef = useRef()\r\n    const passwordRef = useRef()\r\n    const { login } = useAuth()\r\n    const [error, setError] = useState(\"\")\r\n    const [loading, setLoading] = useState(false)\r\n    const history = useHistory()\r\n\r\n    async function handleSubmit(e) {\r\n        e.preventDefault()\r\n\r\n        try {\r\n            setError(\"\")\r\n            setLoading(true)\r\n            await login(emailRef.current.value, passwordRef.current.value)\r\n            history.push(\"/\")\r\n        } catch {\r\n            setError(\"Failed to log in\")\r\n        }\r\n\r\n        setLoading(false)\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <Navbar />\r\n        <div style={{backgroundColor:\"#F6D7AF\"}}>\r\n        <CenteredContainer>\r\n            <Card style={{backgroundColor:\"#F6D7AF\"}}>\r\n                <Card.Body>\r\n                    <h2 className=\"text-center mb-4\">Log In</h2>\r\n                    {error && <Alert variant=\"danger\">{error}</Alert>}\r\n                    <Form onSubmit={handleSubmit}>\r\n                        <Form.Group id=\"email\">\r\n                            <Form.Label>Email</Form.Label>\r\n                            <Form.Control type=\"email\" ref={emailRef} required/>\r\n                        </Form.Group>\r\n                        <Form.Group id=\"password\">\r\n                            <Form.Label>Password</Form.Label>\r\n                            <Form.Control type=\"password\" ref={passwordRef} required/>\r\n                        </Form.Group>\r\n                        <Button disabled={loading} className=\"w-100\" type=\"submit\" style={{backgroundColor:\"#FF6B09\", borderColor:\"#FF6B09\"}}>\r\n                            Log In\r\n                        </Button>\r\n                    </Form>\r\n                    <div className=\"w-100 text-center mt-3\">\r\n                        <Link style={{color:\"#FF6B09\"}} to=\"/forgot-password\">Forgot Password?</Link>\r\n                    </div>\r\n                </Card.Body>\r\n            </Card>\r\n            <div className=\"w-100 text-center mt-2\">\r\n                Need an account? <Link style={{color:\"#FF6B09\"}} to=\"/signup\">Create Account</Link>\r\n            </div>\r\n        </CenteredContainer>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Login\r\n\r\n","import React from 'react'\r\nimport { Redirect, Route } from \"react-router-dom\"\r\nimport { useAuth } from \"../../contexts/AuthContext\"\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n    const { currentUser } = useAuth()\r\n\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={props => {\r\n                return currentUser ? <Component {...props} /> : <Redirect to=\"/login\" />\r\n            }}\r\n        ></Route>\r\n    )\r\n}\r\n\r\nexport default PrivateRoute\r\n","import React, { useRef, useState } from \"react\"\r\nimport { Form, Button, Card, Alert } from \"react-bootstrap\"\r\nimport { useAuth } from \"../../contexts/AuthContext\"\r\nimport { Link } from \"react-router-dom\"\r\nimport CenteredContainer from \"./CenteredContainer\"\r\nimport Navbar from \"../layout/Navbar\"\r\n\r\nconst ForgotPassword = () => {\r\n    const emailRef = useRef()\r\n    const { resetPassword } = useAuth()\r\n    const [error, setError] = useState(\"\")\r\n    const [message, setMessage] = useState(\"\")\r\n    const [loading, setLoading] = useState(false)\r\n\r\n    async function handleSubmit(e) {\r\n        e.preventDefault()\r\n\r\n        try {\r\n            setMessage(\"\")\r\n            setError(\"\")\r\n            setLoading(true)\r\n            await resetPassword(emailRef.current.value)\r\n            setMessage(\"Check your email to reset password\")\r\n        } catch {\r\n            setError(\"Failed to reset password\")\r\n        }\r\n\r\n        setLoading(false)\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <Navbar />\r\n        <div style={{backgroundColor:\"#F6D7AF\"}}>\r\n            <CenteredContainer>\r\n                <Card style={{backgroundColor:\"#F6D7AF\"}}>\r\n                    <Card.Body>\r\n                        <h2 className=\"text-center mb-4\">Password Reset</h2>\r\n                        {error && <Alert variant=\"danger\">{error}</Alert>}\r\n                        {message && <Alert variant=\"success\">{message}</Alert>}\r\n                        <Form onSubmit={handleSubmit}>\r\n                            <Form.Group id=\"email\">\r\n                                <Form.Label>Email</Form.Label>\r\n                                <Form.Control type=\"email\" ref={emailRef} required/>\r\n                            </Form.Group>\r\n                            <Button disabled={loading} className=\"w-100\" type=\"submit\" style={{backgroundColor:\"#FF6B09\", borderColor:\"#FF6B09\"}}>\r\n                                Reset Password\r\n                            </Button>\r\n                        </Form>\r\n                        <div className=\"w-100 text-center mt-3\">\r\n                            <Link style={{color: \"#FF6B09\"}} to=\"/login\">Log In</Link>\r\n                        </div>\r\n                    </Card.Body>\r\n                </Card>\r\n                <div className=\"w-100 text-center mt-2\">\r\n                    Need an account? <Link style={{color: \"#FF6B09\"}} to=\"/signup\">Sign Up</Link>\r\n                </div>\r\n            </CenteredContainer>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ForgotPassword\r\n\r\n","import React, { useRef, useState } from \"react\"\r\nimport { Form, Button, Card, Alert } from \"react-bootstrap\"\r\nimport { useAuth } from \"../../contexts/AuthContext\"\r\nimport { Link, useHistory } from \"react-router-dom\"\r\nimport CenteredContainer from \"./CenteredContainer\"\r\nimport firebase from \"../../firebase\"\r\nimport \"firebase/firestore\"\r\nimport Navbar from \"../layout/Navbar\"\r\n\r\nconst UpdateProfile = () => {\r\n    const emailRef = useRef()\r\n    const passwordRef = useRef()\r\n    const passwordConfirmRef = useRef()\r\n    const { currentUser, updateEmail, updatePassword } = useAuth()\r\n    const [error, setError] = useState(\"\")\r\n    const [loading, setLoading] = useState(false)\r\n    const history = useHistory()\r\n    const [username, setName] = useState(\"\")\r\n\r\n    function updateUsername(username) {\r\n        const db = firebase.firestore()\r\n        db.collection(\"users\")\r\n        .doc(currentUser.uid)\r\n        .set({\r\n            userId: currentUser.uid,\r\n            username: username\r\n        })\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault()\r\n\r\n        if (passwordRef.current.value !==\r\n            passwordConfirmRef.current.value) {\r\n                return setError(\"Passwords do not match\")\r\n            }\r\n\r\n        const promises = []\r\n        setLoading(true)\r\n        setError(\"\")\r\n        if (emailRef.current.value !== currentUser.email) {\r\n            promises.push(updateEmail(emailRef.current.value))\r\n        }\r\n        if (passwordRef.current.value) {\r\n            promises.push(updatePassword(passwordRef.current.value))\r\n        }\r\n        if (username) {\r\n            promises.push(updateUsername(username))\r\n        }\r\n\r\n        Promise.all(promises).then(() => {\r\n            history.push(\"/user\")\r\n        }).catch(() => {\r\n            setError(\"Failed to update account\")\r\n        }).finally(() => {\r\n            setLoading(false)\r\n        })\r\n    }\r\n\r\n    /*async function handleDelete() {\r\n        setError(\"\")\r\n\r\n        try {\r\n            await deleteAccount()\r\n            history.pushState(\"/login\")\r\n        } catch {\r\n            setError(\"Failed to delete account\")\r\n        }\r\n    }*/\r\n\r\n    return (\r\n        <>\r\n        <Navbar />\r\n        <div style={{backgroundColor:\"#F6D7AF\"}}>\r\n        <CenteredContainer>\r\n            <Card style={{backgroundColor:\"#F6D7AF\"}}>\r\n                <Card.Body>\r\n                    <h2 className=\"text-center mb-4\">Update Profile</h2>\r\n                    {error && <Alert variant=\"danger\">{error}</Alert>}\r\n                    <Form onSubmit={handleSubmit}>\r\n                        <Form.Group>\r\n                            <Form.Label>First Name</Form.Label>\r\n                            <Form.Control \r\n                                type=\"text\"\r\n                                placeholder=\"Change your name here\"\r\n                                onChange={e => setName(e.target.value)}\r\n                            />\r\n                        </Form.Group>\r\n                        <Form.Group id=\"email\">\r\n                            <Form.Label>Email</Form.Label>\r\n                            <Form.Control type=\"email\" ref={emailRef} required defaultValue={currentUser.email} />\r\n                        </Form.Group>\r\n                        <Form.Group id=\"password\">\r\n                            <Form.Label>Password</Form.Label>\r\n                            <Form.Control type=\"password\" ref={passwordRef} placeholder=\"Leave blank to keep the same\"/>\r\n                        </Form.Group>\r\n                        <Form.Group id=\"password-confirm\">\r\n                            <Form.Label>Password Confirmation</Form.Label>\r\n                            <Form.Control type=\"password\" ref={passwordConfirmRef} placeholder=\"Leave blank to keep the same\"/>\r\n                        </Form.Group>\r\n                        <Button disabled={loading} className=\"w-100\" type=\"submit\" style={{backgroundColor:\"#FF6B09\", borderColor:\"#FF6B09\"}}>\r\n                            Update\r\n                        </Button>\r\n                        {/*<Button onClick={handleDelete} className=\"w-100\" variant=\"link\" style={{backgroundColor:\"red\", borderColor:\"#FF6B09\", marginTop:\"10px\"}}>\r\n                            Delete Account\r\n                        </Button>*/}\r\n                    </Form>\r\n                </Card.Body>\r\n            </Card>\r\n            <div className=\"w-100 text-center mt-2\">\r\n                <Link style={{color: \"#FF6B09\"}} to=\"/user\">Back</Link>\r\n            </div>\r\n        </CenteredContainer>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default UpdateProfile\r\n","import { useReducer, useEffect } from \"react\"\r\nimport { useAuth } from \"../contexts/AuthContext\"\r\nimport { database } from \"../firebase\"\r\n\r\nconst ACTIONS = {\r\n    SELECT_GROUP: 'select-group',\r\n    UPDATE_GROUP: 'update-folder',\r\n    SET_GROUPS: \"set-groups\",\r\n    SET_CHILD_FILES: \"set-child-files\"\r\n}\r\n\r\nexport const ROOT_GROUP = { name: 'Groups', id: null, path: [] }\r\n\r\nfunction reducer(state, { type, payload }) {\r\n    switch(type) {\r\n        case ACTIONS.SELECT_GROUP:\r\n            return {\r\n                groupId: payload.groupId,\r\n                group: payload.group,\r\n                groups: [],\r\n                childFiles: []\r\n            }\r\n        case ACTIONS.UPDATE_GROUP:\r\n            return {\r\n                ...state,\r\n                group: payload.group\r\n            }\r\n        case ACTIONS.SET_GROUPS:\r\n            return {\r\n                ...state,\r\n                groups: payload.groups\r\n            }\r\n        case ACTIONS.SET_CHILD_FILES:\r\n            return {\r\n                ...state,\r\n                childFiles: payload.childFiles\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport function useGroup(groupId = null, group = null) {\r\n    const [state, dispatch] = useReducer(reducer, {\r\n        groupId,\r\n        group,\r\n        groups: [],\r\n        childFiles: []\r\n    })\r\n    const { currentUser } = useAuth()\r\n\r\n    useEffect(() => {\r\n        dispatch({ type: ACTIONS.SELECT_GROUP, payload: { groupId, group } })\r\n    }, [groupId, group])\r\n\r\n    useEffect(() => {\r\n        if (groupId == null) {\r\n            return dispatch({\r\n                type: ACTIONS.UPDATE_GROUP,\r\n                payload: { group: ROOT_GROUP }\r\n            })\r\n        }\r\n\r\n        database.groups\r\n        .doc(groupId)\r\n        .get()\r\n        .then(doc => {\r\n            dispatch({\r\n                type: ACTIONS.UPDATE_GROUP,\r\n                payload: { group: database.formatDoc(doc) }\r\n            })\r\n        }).catch(() => {\r\n            dispatch({\r\n                type: ACTIONS.UPDATE_GROUP,\r\n                payload: { group: ROOT_GROUP}\r\n            })\r\n        })\r\n    }, [groupId])\r\n\r\n    useEffect(() => {\r\n    return database.groups\r\n        .where(\"parentId\", \"==\", groupId)\r\n        .where(\"members\", \"array-contains\", currentUser.uid)\r\n        .orderBy(\"createdAt\")\r\n        .onSnapshot(snapshot => {\r\n            dispatch({\r\n                type: ACTIONS.SET_GROUPS,\r\n                payload: { groups: snapshot.docs.map(database.formatDoc) }\r\n            })\r\n        })  \r\n    }, [groupId, currentUser])\r\n\r\n    useEffect(() => {\r\n        return database.files\r\n            .where(\"groupId\", \"==\", groupId)\r\n            //.where(\"userId\", \"==\", currentUser.uid)\r\n            .orderBy(\"createdAt\")\r\n            .onSnapshot(snapshot => {\r\n                dispatch({\r\n                    type: ACTIONS.SET_CHILD_FILES,\r\n                    payload: { childFiles: snapshot.docs.map(database.formatDoc) },\r\n                })\r\n            }) \r\n        }, [groupId, currentUser])\r\n\r\n    return state\r\n}","import React, { useState } from 'react'\r\nimport { Button, Modal, Form } from \"react-bootstrap\"\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\r\nimport { faPlus } from \"@fortawesome/free-solid-svg-icons\"\r\nimport { database } from \"../../firebase\"\r\nimport { useAuth } from \"../../contexts/AuthContext\"\r\nimport { ROOT_GROUP } from \"../../hooks/useGroup\"\r\n\r\nconst AddGroupButton = ({ currentGroup }) => {\r\n    const [open, setOpen] = useState(false)\r\n    const [name, setName] = useState(\"\")\r\n    const { currentUser } = useAuth()\r\n\r\n    function openModal() {\r\n        setOpen(true)\r\n    }\r\n\r\n    function closeModal() {\r\n        setOpen(false)\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault()\r\n\r\n        if (currentGroup == null) return\r\n\r\n        const path = [...currentGroup.path]\r\n        if (currentGroup !== ROOT_GROUP) {\r\n            path.push({ name: currentGroup.name, id: currentGroup.id })\r\n        }\r\n\r\n\r\n        database.groups.add({\r\n            name: name,\r\n            creatorId: currentUser.uid,\r\n            parentId: currentGroup.id,\r\n            path: path,\r\n            createdAt: database.getCurrentTimestamp(),\r\n            members: [currentUser.uid]\r\n        })\r\n\r\n        setName(\"\")\r\n        closeModal()\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <Button onClick={openModal} style={{backgroundColor:\"rgba(0, 0, 0, 0)\", minWidth:\"150px\", marginTop:\"10px\", color:\"#FF6B09\", borderColor: \"#FF6B09\"}}>\r\n            <FontAwesomeIcon icon={faPlus} size=\"3x\" style={{color:\"#212121\"}}/>\r\n            <p>Create Group</p>\r\n            {/*<FontAwesomeIcon icon={faUsers} style={{color: \"#FF6B09\"}}/>*/}\r\n        </Button>\r\n        <Modal show={open} onHide={closeModal}>\r\n            <Form onSubmit={handleSubmit}>\r\n                <Modal.Body>\r\n                    <Form.Group>\r\n                        <Form.Label>Group Name</Form.Label>\r\n                        <Form.Control\r\n                            type=\"text\"\r\n                            required\r\n                            value={name}\r\n                            onChange={e => setName(e.target.value)}\r\n                            />\r\n                    </Form.Group>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"secondary\" onClick={closeModal} style={{backgroundColor:\"#212121\", borderColor:\"#212121\"}}>\r\n                        Close\r\n                    </Button>\r\n                    <Button variant=\"success\" type=\"submit\" style={{backgroundColor:\"#FF6B09\", borderColor:\"#FF6B09\"}}>\r\n                        Create Group\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Form>\r\n        </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AddGroupButton\r\n","import { faFileUpload } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport React, { useState, useEffect } from 'react'\r\nimport ReactDOM from \"react-dom\"\r\nimport { useAuth } from '../../contexts/AuthContext'\r\nimport firebase, { storage, database } from \"../../firebase\"\r\nimport { ROOT_GROUP } from \"../../hooks/useGroup\"\r\nimport { v4 as uuid4 } from  \"uuid\"\r\nimport { Toast, ProgressBar } from \"react-bootstrap\"\r\nimport \"firebase/firestore\"\r\n\r\nconst AddMediaButton = ({ currentGroup }) => {\r\n    const [uploadingFiles, setUploadingFiles] = useState([])\r\n    const { currentUser } = useAuth()\r\n    const [username,setName] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        firebase.firestore().collection(\"users\")\r\n        .doc(currentUser.uid)\r\n        .get()\r\n        .then(doc => {\r\n            setName(database.formatDoc(doc))\r\n        })\r\n    }, [])\r\n\r\n    function handleUpload(e) {\r\n        const file = e.target.files[0]\r\n        if (currentGroup == null || file == null) return\r\n\r\n        const id = uuid4(0)\r\n        setUploadingFiles(prevUploadingFiles => [\r\n            ...prevUploadingFiles,\r\n            { id: id, name: file.name, progress: 0, error: false }\r\n        ])\r\n        const filePath = \r\n            currentGroup === ROOT_GROUP \r\n            ? `${currentGroup.path.join(\"/\")}/${file.name}`\r\n            : `${currentGroup.path.join(\"/\")}/${currentGroup.name}/${file.name}`\r\n\r\n        const uploadTask = storage\r\n            .ref(`/files/${currentUser.uid}/${filePath}`)\r\n            .put(file)\r\n\r\n        uploadTask.on('state_changed', snapshot => {\r\n            const progress = snapshot.bytesTransferred / snapshot.totalBytes\r\n            setUploadingFiles(prevUploadingFiles => {\r\n                return prevUploadingFiles.map(uploadFile => {\r\n                    if (uploadFile.id === id) {\r\n                        return { ...uploadFile, progress: progress }\r\n                    }\r\n\r\n                    return uploadFile\r\n                })\r\n            })\r\n        }, () => {\r\n            setUploadingFiles(prevUploadingFiles => {\r\n                return prevUploadingFiles.map(uploadFile => {\r\n                    if (uploadFile.id === id) {\r\n                        return { ...uploadFile, error: true }\r\n                    }\r\n                    return uploadFile\r\n                })\r\n            })\r\n        }, () => {\r\n            setUploadingFiles(prevUploadingFiles => {\r\n                return prevUploadingFiles.filter(uploadFile => {\r\n                    return uploadFile.id !== id\r\n                })\r\n            })\r\n\r\n            uploadTask.snapshot.ref.getDownloadURL().then(url => {\r\n                database.files\r\n                .where(\"name\", \"==\", file.name)\r\n                .where(\"userId\", \"==\", currentUser.uid)\r\n                .where(\"folderId\", \"==\", currentGroup.id)\r\n                .get()\r\n                .then(existingFiles => {\r\n                    const existingFile = existingFiles.docs[0]\r\n                    if (existingFile) {\r\n                        existingFile.ref.update({ url: url })\r\n                    } else {\r\n                        database.files.add({\r\n                        isText: false,\r\n                        url: url,\r\n                        name: file.name,\r\n                        createdAt: database.getCurrentTimestamp(),\r\n                        groupId: currentGroup.id,\r\n                        username: username.username\r\n                    })\r\n                    }\r\n                })\r\n            })\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div style={{marginTop:\"10px\"}}></div>\r\n            {/*<Button onClick={handleUpload} style={{backgroundColor:\"rgba(0, 0, 0, 0)\", minWidth:\"150px\", marginTop:\"10px\", color:\"#FF6B09\", borderColor: \"#FF6B09\"}}>\r\n                <FontAwesomeIcon icon={faFileUpload} size=\"3x\" style={{color:\"#212121\"}}/>\r\n                <p>Upload Media</p>\r\n                <input type=\"file\" onChange={handleUpload} style={{ opacity: 0, position: \"absolute\", left: \"-9999px\" }} />\r\n            </Button> */}\r\n            <label className=\"btn m-0 mr-2 pt-3\" style={{backgroundColor:\"rgba(0, 0, 0, 0)\", minWidth:\"150px\", color:\"#FF6B09\", borderColor: \"#FF6B09\"}}>\r\n                <FontAwesomeIcon icon={faFileUpload} size=\"3x\" style={{color:\"#212121\"}}/>\r\n                <p>Upload Media</p>\r\n                <input type=\"file\" onChange={handleUpload} style={{ opacity: 0, position: \"absolute\", left: \"-9999px\" }} />\r\n            </label>\r\n            {uploadingFiles.length > 0 &&\r\n             ReactDOM.createPortal(\r\n                 <div\r\n                 style={{\r\n                     position: \"absolute\",\r\n                     bottom: \"1rem\",\r\n                     right: \"1rem\",\r\n                     maxWidth: \"250px\"\r\n                 }}>\r\n                     {uploadingFiles.map(file => (\r\n                         <Toast key={file.id} onClose={() => {\r\n                             setUploadingFiles(prevUploadingFiles => {\r\n                                 return prevUploadingFiles.filter(uploadFile => {\r\n                                     return uploadFile.id !== file.id\r\n                                 })\r\n                             })\r\n                         }}>\r\n                             <Toast.Header \r\n                             closeButton ={file.error}\r\n                             className=\"text-truncate w-100 d-block\"\r\n                             >\r\n                                 {file.name}\r\n                             </Toast.Header>\r\n                             <Toast.Body>\r\n                                 <ProgressBar \r\n                                    animated={!file.error}\r\n                                    variant={file.error ? \"danger\" : \"primary\"}\r\n                                    now={file.error ? 100 : file.progress * 100 }\r\n                                    label={\r\n                                        file.error ? \"Error\" : `${Math.round(file.progress * 100)}%`\r\n                                    }\r\n                                    />\r\n                             </Toast.Body>\r\n                         </Toast>\r\n                     ))}\r\n                 </div>,\r\n                 document.body\r\n             )}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AddMediaButton\r\n","import { faCommentAlt } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { Button, Modal, Form } from \"react-bootstrap\"\r\nimport React, { useState, useEffect } from 'react'\r\nimport { useAuth } from '../../contexts/AuthContext'\r\nimport firebase, { database } from \"../../firebase\"\r\nimport \"firebase/firestore\"\r\n\r\nconst AddTextButton = ({ currentGroup }) => {\r\n    const [open, setOpen] = useState(false)\r\n    const [text, setText] = useState(\"\")\r\n    const { currentUser } = useAuth()\r\n    const [username,setName] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        firebase.firestore().collection(\"users\")\r\n        .doc(currentUser.uid)\r\n        .get()\r\n        .then(doc => {\r\n            setName(database.formatDoc(doc))\r\n        })\r\n    }, [])\r\n\r\n    function openModal() {\r\n        setOpen(true)\r\n    }\r\n\r\n    function closeModal() {\r\n        setOpen(false)\r\n    }\r\n\r\n    function handleUpload(e) {\r\n        e.preventDefault()\r\n\r\n        if (currentGroup == null) return\r\n\r\n        database.files.add({\r\n            isText: true,\r\n            text: text,\r\n            createdAt: database.getCurrentTimestamp(),\r\n            groupId: currentGroup.id,\r\n            username: username.username\r\n        })\r\n\r\n        setText(\"\")\r\n        closeModal()\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div style={{marginTop:\"10px\"}}></div>\r\n            <Button onClick={openModal} style={{backgroundColor:\"rgba(0, 0, 0, 0)\", minWidth:\"150px\", paddingTop:\"10px\", color:\"#FF6B09\", borderColor: \"#FF6B09\"}}>\r\n                <FontAwesomeIcon icon={faCommentAlt} size=\"3x\" style={{color:\"#212121\"}}/>\r\n                <p>Upload Message</p>\r\n                {/*<FontAwesomeIcon icon={faUsers} style={{color: \"#FF6B09\"}}/>*/}  \r\n            </Button>\r\n            {/*<label className=\"btn btn-sm m-0 mr-2 pt-3\" style={{backgroundColor:\"rgba(0, 0, 0, 0)\", minWidth:\"150px\", color:\"#FF6B09\", borderColor: \"#FF6B09\"}}>\r\n                <FontAwesomeIcon icon={faEnvelopeOpenText} size=\"3x\" style={{color:\"#212121\"}}/>\r\n                <p>Upload Text</p>\r\n    </label>*/}\r\n            <Modal show={open} onHide={closeModal}>\r\n            <Form onSubmit={handleUpload}>\r\n                <Modal.Body>\r\n                    <Form.Group>\r\n                        <Form.Label>Enter Message</Form.Label>\r\n                        <Form.Control\r\n                            type=\"text\"\r\n                            required\r\n                            value={text}\r\n                            onChange={e => setText(e.target.value)}\r\n                            />\r\n                    </Form.Group>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"secondary\" onClick={closeModal} style={{backgroundColor:\"#212121\", borderColor:\"#212121\"}}>\r\n                        Close\r\n                    </Button>\r\n                    <Button variant=\"success\" type=\"submit\" style={{backgroundColor:\"#FF6B09\", borderColor:\"#FF6B09\"}}>\r\n                        Upload Message\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Form>\r\n        </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AddTextButton\r\n","import React, { useState } from 'react'\r\nimport { Button, Modal, Form } from \"react-bootstrap\"\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\r\nimport { faPlus } from \"@fortawesome/free-solid-svg-icons\"\r\nimport firebase from \"../../firebase\"\r\nimport { useAuth } from \"../../contexts/AuthContext\"\r\nimport \"firebase/firestore\"\r\n\r\nconst JoinGroupButton = () => {\r\n    const [open, setOpen] = useState(false)\r\n    const [code, setCode] = useState(\"\")\r\n    //const [members, setMembers] = useState([\"\"])\r\n    var members = []\r\n    const { currentUser } = useAuth()\r\n\r\n    function openModal() {\r\n        setOpen(true)\r\n    }\r\n\r\n    function closeModal() {\r\n        setOpen(false)\r\n    }\r\n\r\n    async function addMembersToGroup() {\r\n        const db = firebase.firestore()\r\n\r\n        try {\r\n            await db.collection(\"groups\")\r\n            .doc(code)\r\n            .get()\r\n            .then((doc) => {\r\n                console.log(doc.data().members)\r\n                members = [...doc.data().members]\r\n                if (members.some(currentUser => (currentUser.uid !== members))) {\r\n                    members.push(currentUser.uid)\r\n                    console.log(members)\r\n                    db.collection(\"groups\")\r\n                    .doc(code)\r\n                    .update({\r\n                        members: members\r\n                    })\r\n                }\r\n            })\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault()\r\n\r\n        addMembersToGroup()\r\n\r\n        console.log(members)\r\n\r\n        // database.groups.ref(\"members\")\r\n        //     .doc(\"members\")\r\n        //     .where(\"id\", \"==\", code)\r\n        //     .add({\r\n        //         userId: currentUser.uid,\r\n        // })\r\n\r\n        setCode(\"\")\r\n        closeModal()\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <Button onClick={openModal} style={{backgroundColor:\"rgba(0, 0, 0, 0)\", minWidth:\"150px\", marginTop:\"10px\", marginLeft:\"10px\", color:\"#FF6B09\", borderColor: \"#FF6B09\"}}>\r\n            <FontAwesomeIcon icon={faPlus} size=\"3x\" style={{color:\"#212121\"}}/>\r\n            <p>Join Group</p>\r\n            {/*<FontAwesomeIcon icon={faUsers} style={{color: \"#FF6B09\"}}/>*/}\r\n        </Button>\r\n        <Modal show={open} onHide={closeModal}>\r\n            <Form onSubmit={handleSubmit}>\r\n                <Modal.Body>\r\n                    <Form.Group>\r\n                        <Form.Label>Frame Code</Form.Label>\r\n                        <Form.Control\r\n                            type=\"text\"\r\n                            required\r\n                            value={code}\r\n                            onChange={e => setCode(e.target.value)}\r\n                            />\r\n                    </Form.Group>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"secondary\" onClick={closeModal} style={{backgroundColor:\"#212121\", borderColor:\"#212121\"}}>\r\n                        Close\r\n                    </Button>\r\n                    <Button variant=\"success\" type=\"submit\" style={{backgroundColor:\"#FF6B09\", borderColor:\"#FF6B09\"}}>\r\n                        Connect\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Form>\r\n        </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default JoinGroupButton\r\n","import React from 'react'\r\nimport { Link } from \"react-router-dom\"\r\nimport { Button } from \"react-bootstrap\"\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\r\nimport { faUsers } from \"@fortawesome/free-solid-svg-icons\"\r\n\r\nconst Group = ({ group }) => {\r\n    return (\r\n        <Button to={{\r\n            pathname: `/group/${group.id}`,\r\n            state: { group: group }\r\n        }}\r\n            className=\"text-truncate w-100\" size=\"lg\" style={{backgroundColor:\"rgba(0, 0, 0, 0)\", marginLeft:\"-7px\", minWidth:\"150px\", maxWidth:\"150px\", borderColor:\"#FF6B09\"}} as={Link}>\r\n            <FontAwesomeIcon icon={faUsers} className=\"mr-2\" size=\"3x\" style={{color:\"#212121\"}}/>\r\n            <p style={{color:\"#FF6B09\"}}>{group.name}</p>\r\n    </Button>\r\n    )\r\n}\r\n\r\nexport default Group\r\n\r\n","import { faFile } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport React from 'react'\r\n\r\nconst File = ({ file }) => {\r\n    return (\r\n        <a href={file.url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"btn btn-outline-dark text-truncate w-100\" style={{marginLeft:\"-7px\", minWidth:\"150px\", maxWidth:\"150px\"}}>\r\n            <FontAwesomeIcon icon={faFile} className=\"mr-2\" />\r\n            {file.name}\r\n        </a>      \r\n    )\r\n}\r\n\r\nexport default File\r\n","import { faCommentAlt } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport React from 'react'\r\n\r\nconst Text = ({ file }) => {\r\n    return (\r\n        <p className=\"btn btn-outline-dark text-truncate w-100\" style={{marginLeft:\"-7px\", minWidth:\"150px\", maxWidth:\"150px\"}}>\r\n            <FontAwesomeIcon icon={faCommentAlt} className=\"mr-2\" />\r\n            {file.text}\r\n        </p>      \r\n    )\r\n}\r\n\r\nexport default Text","import React from 'react'\r\nimport { Breadcrumb } from \"react-bootstrap\"\r\nimport { ROOT_GROUP } from '../../hooks/useGroup'\r\nimport { Link } from \"react-router-dom\"\r\n\r\nconst GroupBreadCrumbs = ({ currentGroup }) => {\r\n    let path = currentGroup === ROOT_GROUP ? [] : [ROOT_GROUP]\r\n    if (currentGroup) path = [...path, ...currentGroup.path]\r\n\r\n    return <Breadcrumb className=\"flex-grow-1\"\r\n            listProps={{ className: \"bg-transparent m-0\"}} >\r\n                {path.map((group, index) => (\r\n                    <Breadcrumb.Item\r\n                    key={group.id}\r\n                    linkAs={Link}\r\n                    linkProps={{\r\n                        to: {\r\n                            pathname: group.id ? `/group/${group.id}` : \"/\",\r\n                            state: { group: { ...group, path: path.slice(1, index) } }\r\n                        }\r\n                    }}\r\n                    className=\"text-truncate d-inline-block\" \r\n                    style = {{ maxWidth: \"150px\", color:\"#FF6B09\"}}\r\n                >\r\n                    {group.name}\r\n                </Breadcrumb.Item>\r\n                ))}\r\n            {currentGroup && (\r\n                <Breadcrumb.Item\r\n                    className=\"text-truncate d-inline-block\" \r\n                    style = {{ maxWidth: \"200px\" }}\r\n                    active\r\n                >\r\n                    {currentGroup.name}\r\n                </Breadcrumb.Item>\r\n            )}\r\n    </Breadcrumb>\r\n}\r\n\r\nexport default GroupBreadCrumbs\r\n","import React from 'react'\r\nimport { Container } from 'react-bootstrap'\r\nimport AddGroupButton from './AddGroupButton'\r\nimport AddMediaButton from \"./AddMediaButton\"\r\nimport AddTextButton from \"./AddTextButton\"\r\nimport JoinGroupButton from \"./JoinGroupButton\"\r\nimport { useGroup } from \"../../hooks/useGroup\"\r\nimport Group from \"./Group\"\r\nimport File from \"./File\"\r\nimport Text from \"./Text\"\r\nimport GroupBreadCrumbs from \"./GroupBreadCrumbs\"\r\nimport { useParams, useLocation } from \"react-router-dom\"\r\nimport { ROOT_GROUP } from '../../hooks/useGroup'\r\nimport Navbar from \"../layout/Navbar\"\r\n\r\nconst Dashboard = () => {\r\n    const { groupId } = useParams()\r\n    const { state = {} } = useLocation()\r\n    const { group, groups, childFiles } = useGroup(groupId, state.group)\r\n\r\n    return (\r\n        <>\r\n        <Navbar />\r\n        <div style={{height:\"100%\", backgroundColor:\"#F6D7AF\"}}>\r\n        <Container fluid>\r\n            <div className=\"d-flex align-items-center\">\r\n                <GroupBreadCrumbs currentGroup={group} style={{backgroundColor:\"#F6D7AF\"}}/>\r\n                \r\n            </div>\r\n            <div>\r\n                {!(group === ROOT_GROUP) &&\r\n                <div>\r\n                    <p style={{fontWeight:\"bold\"}}>Group Code: {groupId}</p>\r\n                    <div className=\"d-flex\">\r\n                    <AddMediaButton currentGroup={group} />\r\n                    <AddTextButton currentGroup={group}/>\r\n                    </div>\r\n                </div>\r\n                }\r\n            </div>\r\n            <div>\r\n                {(group === ROOT_GROUP) &&\r\n                <div>\r\n                    <AddGroupButton currentGroup={group} />\r\n                    <JoinGroupButton />\r\n                </div>\r\n                }\r\n            </div>\r\n            {groups.length > 0 && (\r\n                <div className=\"d-flex flex-wrap\">\r\n                    {groups.map(childGroup => (\r\n                        <div \r\n                            key={group.id}\r\n                            style={{ maxWidth: \"250px\" }}\r\n                            className=\"p-2\"\r\n                        >\r\n                            <Group group={childGroup} />\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n            {groups.length > 0 && childFiles.length > 0 && <hr />}\r\n            {childFiles.length > 0 && (\r\n                <div className=\"d-flex flex-wrap\">\r\n                    {childFiles.map(childFile => (\r\n                        <div \r\n                            key={childFile.id}\r\n                            style={{ maxWidth: \"250px\" }}\r\n                            className=\"p-2\"\r\n                        >   \r\n                            {!childFile.isText &&\r\n                                <File file={childFile} />\r\n                            }\r\n                            {childFile.isText &&\r\n                                <Text file={childFile} />}\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </Container>\r\n    </div>\r\n    </>\r\n    )\r\n}\r\n\r\nexport default Dashboard\r\n","import React, { useState } from 'react'\r\nimport { useGroup } from \"../../hooks/useGroup\"\r\nimport { Button } from \"react-bootstrap\"\r\nimport { useParams, useLocation } from \"react-router-dom\"\r\nimport CenteredContainer from '../authentication/CenteredContainer'\r\n\r\nconst Viewer = () => {\r\n\r\n    const { groupId } = useParams()\r\n    const { state = {} } = useLocation()\r\n    const { childFiles } = useGroup(groupId, state.group)\r\n    const [i, setI] = useState(0)\r\n\r\n    function next() {\r\n        const increment = () => {\r\n                if (i+1 === childFiles.length) {\r\n                    setI(0)\r\n                }\r\n                else {\r\n                    setI(i+1)\r\n                }\r\n            }\r\n\r\n        console.log(i)\r\n\r\n        return <Button variant=\"secondary\" onClick={increment} style={{fontSize: \"20px\", left: \"6vw\", bottom: \"1vh\", backgroundColor:\"#212121\", borderColor:\"#212121\", position: \"absolute\"}}>\r\n                    &gt;\r\n                </Button>\r\n    }\r\n\r\n    function previous() {\r\n        const decrement = () => {\r\n            if (i-1 === -1) {\r\n                setI(childFiles.length-1)\r\n            }\r\n            else {\r\n                setI(i-1)\r\n            }\r\n        }\r\n\r\n        console.log(i)\r\n\r\n        return <Button variant=\"secondary\" onClick={decrement} style={{fontSize: \"20px\", left: \"1vw\", bottom: \"1vh\", backgroundColor:\"#212121\", borderColor:\"#212121\", position: \"absolute\"}}>\r\n                    &lt;\r\n                </Button>\r\n    }\r\n\r\n//                \r\n\r\n    return (\r\n            <div style={{height: \"100%\", position: \"relative\", backgroundColor: \"black\"}}>\r\n                {!childFiles[i] && (\r\n                    <div>\r\n                        <div style={{backgroundColor: \"white\"}}>\r\n                        <CenteredContainer>\r\n                            <h1>There is no media uploaded to this frame yet! :)</h1>\r\n                        </CenteredContainer>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n                {childFiles[i] && (\r\n                    <div>\r\n                        {!childFiles[i].isText && \r\n                            <div style={{transform: \"translate(0, 50%)\", backgroundColor: \"black\"}}>\r\n                                <img\r\n                                src={childFiles[i].url}\r\n                                alt=\"example\"\r\n                                width=\"100%\"/>\r\n                            </div>\r\n                        }\r\n                        {childFiles[i].isText && \r\n                            <div style={{backgroundColor: \"white\"}}>\r\n                            <CenteredContainer>\r\n                                <h1>{childFiles[i].text}</h1>\r\n                            </CenteredContainer>\r\n                            </div>\r\n                        }\r\n                        <div className=\"ml-auto\">\r\n                            {next()}\r\n                            {previous()}\r\n                            <h1 style={{color: \"white\", margin: \"0\", bottom: \"0\", right: \"0\", padding: \"1vh 30px\", backgroundColor: \"#0099FF\", position: \"absolute\"}}>{childFiles[i].username}</h1>\r\n                        </div>\r\n                        \r\n                    </div>\r\n        )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Viewer","import React from \"react\"\r\nimport Signup from \"./authentication/Signup\"\r\nimport { AuthProvider } from \"../contexts/AuthContext\"\r\nimport { HashRouter, Switch, Route } from \"react-router-dom\"\r\nimport Profile from \"./authentication/Profile\"\r\nimport Login from \"./authentication/Login\"\r\nimport PrivateRoute from \"./authentication/PrivateRoute\"\r\nimport ForgotPassword from \"./authentication/ForgotPassword\"\r\nimport UpdateProfile from \"./authentication/UpdateProfile\"\r\nimport Dashboard from \"./groups/Dashboard\"\r\nimport Viewer from \"./viewer/Viewer\"\r\nimport \"../style.css\"\r\n\r\nfunction App() {\r\n  return (\r\n    <HashRouter basename={process.env.PUBLIC_URL}>\r\n      <AuthProvider>\r\n        <Switch>\r\n          {/* Groups */}\r\n          <PrivateRoute exact path=\"/\" component={Dashboard} />\r\n          <PrivateRoute exact path=\"/group/:groupId\" component={Dashboard} />\r\n\r\n          {/* Viewer */}\r\n          <Route exact path=\"/viewer/:groupId\" component={Viewer} />\r\n\r\n          {/* Profile */}\r\n          <PrivateRoute path=\"/user\" component={Profile} />\r\n          <PrivateRoute path=\"/update-profile\" component={UpdateProfile} />\r\n\r\n          {/* Authentication */}\r\n          <Route path=\"/signup\" component={Signup} />\r\n          <Route path=\"/login\" component={Login} />\r\n          <Route path=\"/forgot-password\" component={ForgotPassword} />\r\n        </Switch>\r\n      </AuthProvider>\r\n    </HashRouter>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport App from \"./components/App\"\r\nimport \"bootstrap/dist/css/bootstrap.min.css\"\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n)\r\n"],"sourceRoot":""}